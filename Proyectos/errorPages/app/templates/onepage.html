<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container">
      <div class="col">
        <div class="row">
          <!-- Poner aqui las tarjetas por defecto -->
          <div class="card" style="width: 18rem">
            <!-- <img src="..." class="card-img-top" alt="..."> -->
            <div class="card-body">
              <h5 class="card-title">Primera Tarjeta</h5>
              <p class="card-text">Esta es la primera tarjeta</p>
              <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
          </div>

          <div class="card" style="width: 18rem">
            <!-- <img src="..." class="card-img-top" alt="..."> -->
            <div class="card-body">
              <h5 class="card-title">Segunda Tarjeta</h5>
              <p class="card-text">Esta es la primera tarjeta</p>
              <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
          </div>

          <div class="card" style="width: 18rem">
            <!-- <img src="..." class="card-img-top" alt="..."> -->
            <div class="card-body">
              <h5 class="card-title">
                Tercera Tarjeta Lorem ipsum dolor sit amet consectetur
                adipisicing elit. Sed eum vitae voluptates id commodi repellat?
                Possimus beatae architecto nisi. Fugiat mollitia odio provident,
                quas sequi quo ex dignissimos magnam nihil! Lorem, ipsum dolor
                sit amet consectetur adipisicing elit. Earum atque facilis
                perspiciatis voluptate modi commodi tempora eligendi dicta quas
                alias ratione, consectetur consequatur dolores molestias
                architecto molestiae ducimus suscipit reprehenderit! Lorem ipsum
                dolor sit amet, consectetur adipisicing elit. Voluptates,
                molestiae. Voluptas rerum doloribus molestias, omnis hic
                quisquam, eaque cupiditate, ad repellendus quis iure harum et
                fugit necessitatibus consectetur facilis. Praesentium?
              </h5>
              <p class="card-text">Esta es la primera tarjeta</p>
              <a href="#" class="btn btn-primary">Go somewhere</a>
            </div>
          </div>
          <!-- un espacio que va a manejar JS -->
          <div id="tarjetas"></div>
        </div>
      </div>
    </div>
    <script>
      let i = 1; // Inicializamos el contador fuera de la funci√≥n, para que persista entre llamadas

      function loadCards() {
        if (i <= 10) {
          // Aseguramos que el contador no pase de 10
          var object = {
            titulo: "Card " + i,
            descripcion: "Texto de la Card " + i,
          };

          console.log("Acabas de scrollear hasta abajo");

          var contenedor = document.createElement("div");
          contenedor.setAttribute("class", "card");
          contenedor.setAttribute("style", "width: 18rem;"); 

          var body = document.createElement("div");
          body.setAttribute("class", "card-body");

          var h5 = document.createElement("h5");
          h5.setAttribute("class", "card-title");
          h5.innerHTML = object.titulo;

          var p = document.createElement("p");
          p.setAttribute("class", "card-text");
          p.innerHTML = object.descripcion;

          body.appendChild(h5);
          body.appendChild(p);
          contenedor.appendChild(body);


          document.getElementById("tarjetas").appendChild(contenedor);

          i++; // Incrementamos el contador para la siguiente tarjeta
        }
      }

      window.addEventListener("scroll", () => {
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
          loadCards();
        }
      });
    </script>
  </body>
</html>
